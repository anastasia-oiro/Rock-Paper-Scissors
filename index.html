<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock,paper,scissors</title>
</head>
<body>
    <header>
        <h1>ROCK, PAPER, SCISSORS </h1>
    </header>

<script>
    function userSelection() {
  var txt;
  var person = prompt("Please enter your choice:", "rock");
  if (person == null || person == "") {
    return "invalid choice"
  } else {
    return person;
  }
 console.log(userSelection());
}
   function computerPlay(){
    //rock paper scissors
    //console.log(Math.floor(Math.random()*3))
    //012 0=rock 1=paper 2=scissors
    switch(Math.floor(Math.random()*3)){
        case 0:
            return 'rock'
            break;
            case 1:
                return 'paper';
                break;
                case 2:
                    return 'scissors';
    }
}

function playRound(playerSelection,computerSelection){
    //rock--scissors
    //paper--rock
    //scissors --paper
    if(playerSelection=='rock' && computerSelection == 'scissors'){
        return `You won! ${playerSelection} beats ${computerSelection}`;
    }
    else if(playerSelection == "paper" && computerSelection == "rock"){
        return `You won! ${playerSelection} beats ${computerSelection}`
    }
    else if(playerSelection == "scissors" && computerSelection == "paper"){
        return `You won! ${playerSelection} beats ${computerSelection}`
    }
    else if (playerSelection == computerSelection){
        return "Its a draw!"
    }
    else {
        return `You loose! ${computerSelection} beats ${playerSelection}`
    }    
}
function game(){
    var i; 
    var playerCount = 0;
    var computerCount = 0;
    for (i=1; i<=5;i++){
        const playerSelection = 'rock'.toLowerCase();
        const computerSelection = computerPlay();
        result=playRound(playerSelection,computerSelection);
        console.log(result);
      if(result.includes("won")){
          playerCount++;
      }
      else if (result.includes("loose")){
          computerCount++;
      }
      else{
          console.log("You draw,try again");
          
      }
    }
    // console.log(playerCount);
    // console.log(computerCount); 
    
    
    
    if (playerCount > computerCount){
        return "You win!"
    }
    else if(playerCount == computerCount){
        return "You draw!"
    }
    else{
        return "You loose !"
    }


}

console.log(game());

</script>

</body>
</html>